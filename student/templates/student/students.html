{%load static%}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="{%static 'style.css'%}">

</head>
<body>
    <section class="container">
         
            <div class='add-button-container'>
                <a type='button' href={%url 'add-student'%} class='btn btn-success'>Add</a>
            </div>
            <div class='add-button-container'>
                <a type='button' href='../controllers/logout.php' class='btn btn-primary'>logout</a>
            </div>            
    </section>    


    <section class="container user-data-container">

            <table class='table text-center'  style='vertical-align: middle;'>
                <thead>
                    <tr>
                        <th>id</th> 
                        <th>name</th> 
                        <th>email</th>
                        <th>track</th>
                        <th>Supervisor</th>
                        <th>Action </th>
                    </tr>
                </thead>
                <tbody>
                    
                        {% for  student in students %}
                        <tr>
                            <td>{{student.id}}</td>
                            <td>{{student.name}}</td>
                            <td>{{student.email}}</td>
                            <td>{{student.track}}</td>
                            <td>{{student.staffObj.name}}</td>
                            <td>
                                <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                                    <a type='button' href={% url 'delete-student' student.id %} class='btn btn-danger'>Delete</a>
                                    <a type='button' href={% url 'update-student' student.id %} class='btn btn-success'>Update</a>
                                </div>
                            </td>   
                        </tr>
                        {%endfor%}

                                    
            </tbody>
            </table>


            <script>
                    
                if(isset($_GET["error"]))
                {
                    alert('Sorry, email is not found')
                }

                if(isset($_GET["success"]))
                {
                    alert('The account has been deleted successfully')
                }
                
            echo  </script>
        

    </section>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</body>
</html>